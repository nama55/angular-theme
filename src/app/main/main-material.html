<div class="app" [dir]="myroot" [ngClass]="[themeSidebarSkinColor, themeHeaderSkinColor]" [class.app-dark]="dark" [class.boxed]="boxed" [class.collapsed-sidebar]="collapseSidebar" [class.compact-sidebarr]="compactSidebar" [class.customizer-in]="customizerIn">
  <mat-sidenav-container class="silk-container">
    <mat-sidenav #sidenav [mode]="sidenavMode" [opened]="sidenavOpen" class="sidebar-area">
      <div class="sidebar-panel silk-sidenav">
        <div class="sidebar-container">
          <div class="logo-container ">
            <div class="logo-w logo-i d-flex justify-content-between">
              <div class="align-self-center">
                <div class="logo-sign inline-block d-flex">
                  <i class="fa fa-dashcube mr-3 fa-2x align-self-center"></i>
                  <h4 class="align-self-center logo-img" height="27" width="80">AR Common Services</h4>
                  <!--<img class="align-self-center logo-img" src="assets/img/logo-white.png" width="80" height="27">-->
                </div>
              </div>
            </div>
          </div>
          <div class="user-info-w">
            <div class="silk-user-thumb d-flex">
              <img class="img-responsive img-circle align-self-center" src="assets/img/user-7.jpg" width="107" height="107" alt="user list image">
              <div class="align-self-center pr-3 pl-3 silk-user-i">
                <span class="silk-user-name"><strong>Karan Vaishnav</strong></span>
                <p class="mb-0"><small><i class="fa fa-circle text-success"></i> Online</small></p>
              </div>
            </div>
            <div class="sidebar-search">
              <form action="#" method="get">
                <div class="input-group">
                  <input type="text" name="q" class="form-control" placeholder="Search..">
                  <button type="submit" name="search" id="search-btn" class="btn btn-flat">
                    <i class="fa fa-search"></i>
                  </button>
                </div>
              </form>
            </div>
          </div>
          <div class="sidenav-scrollbar-container">
            <!-- <mat-nav-list menuToggleDirective class="navigation">
                <mat-list-item menuToggleLink *ngFor="let menuitem of menuItems.getAll()">
                    <a menuToggle class="silk-relative" mat-ripple [routerLink]="['/', menuitem.state]" *ngIf="menuitem.type === 'link'">
                    <mat-icon>{{ menuitem.icon }}</mat-icon>
                    <span>{{ menuitem.name }}</span>
                    </a>
                    <a menuToggle class="silk-relative" mat-ripple href="javascript:;" *ngIf="menuitem.type === 'sub'">
                        <mat-icon>{{ menuitem.icon }}</mat-icon>
                        <span>{{ menuitem.name }}</span>
                        <i class="fa menu-caret fa-angle-left"></i>
                    </a>
                    <mat-nav-list class="sub-menu" *ngIf="menuitem.type === 'sub'">
                        <mat-list-item *ngFor="let childitem of menuitem.children" routerLinkActive="open">
                        <a [routerLink]="['/', menuitem.state, childitem.state ]" class="silk-relative" mat-ripple>{{ childitem.name }}</a>
                        </mat-list-item>
                    </mat-nav-list>
                </mat-list-item>
                <mat-divider></mat-divider>
                <mat-list-item>
                    <a (click)="addMenuItem()">
                        <mat-icon>add</mat-icon>
                        <span>Add</span>
                    </a>
                </mat-list-item>
            </mat-nav-list> -->
            <mat-nav-list appMenuToggleDirective class="navigation">
              <mat-list-item appMenuToggleLink *ngFor="let menuitem of menuItems.getAll()">

                <a appMenuToggle class="silk-relative" mat-ripple [routerLink]="['/', menuitem.state]" *ngIf="menuitem.type === 'link'">
                  <mat-icon>{{ menuitem.icon }}</mat-icon>
                  <span>{{ menuitem.name }}</span>
                </a>


                <a appMenuToggle class="silk-relative" mat-ripple href="javascript:;" *ngIf="menuitem.type === 'sub'">
                  <mat-icon>{{ menuitem.icon }}</mat-icon>
                  <span>{{ menuitem.name }}</span>
                  <i class="fa menu-caret fa-angle-left"></i>
                </a>

                <mat-nav-list class="sub-menu " *ngIf="menuitem.type === 'sub'">
                  <mat-list-item *ngFor="let childitem of menuitem.children" routerLinkActive="open">
                    <a [routerLink]="['/', menuitem.state, childitem.state ]" class="silk-relative" mat-ripple *ngIf="childitem.type != 'grandsub'">{{ childitem.name }}</a>
                  </mat-list-item>
                </mat-nav-list>

                <!-------New Line For Testing------------   -->

                <mat-nav-list appMenuToggleDirective class="sub-menu navigation" *ngIf="menuitem.type === 'sub'">
                  <mat-list-item appMenuToggleLink *ngFor="let childitem of menuitem.children" routerLinkActive="open">
                    <!--<a [routerLink]="['/', menuitem.state, childitem.state ]" class="silk-relative" mat-ripple>{{ childitem.name }}</a>-->

                    <a appMenuToggle class="silk-relative" mat-ripple href="javascript:;" *ngIf="childitem.type === 'grandsub'">
                      <mat-icon>{{ childitem.icon }}</mat-icon>
                      <span>{{ childitem.name }}</span>
                      <i class="fa menu-caret fa-plus-square-o"></i>
                    </a>


                    <mat-list-item *ngFor="let childitem1 of childitem.grandchild" routerLinkActive="open" class="sub-menu grandsub-menu">
                      <a [routerLink]="['/', menuitem.state, childitem.state ]" class="silk-relative" mat-ripple>{{ childitem1.name }}</a>
                    </mat-list-item>

                  </mat-list-item>
                </mat-nav-list>



              </mat-list-item>
              <mat-divider></mat-divider>
              <!--<mat-list-item>   For Add New Main Menu with Child menu
                  <a (click)="addMenuItem()">
                      <mat-icon>add</mat-icon>
                      <span>Add</span>
                  </a>
              </mat-list-item>-->
            </mat-nav-list>
          </div>
        </div>
      </div>
    </mat-sidenav>

    <mat-sidenav #end position="end" class="chat-panel" mode="over" opened="false">
      <div class="scroll">
        <mat-toolbar class="bg-primary">
          <h3>Notifications</h3>
        </mat-toolbar>
        <div class="pt-4 pb-3 pr-3 pl-3">
          <div class="alert alert-success alert-dismissible fade show mb-2" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <strong>Holy guacamole!</strong> You should check.
          </div>
          <div class="alert bg-primary alert-dismissible fade show mb-2" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <strong>Heads Up!</strong> some of those fields below.
          </div>
          <div class="alert alert-danger alert-dismissible fade show mb-2" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <strong>Deleted 3 Files</strong> You should check.
          </div>
          <div class="alert bg-primary alert-dismissible fade show mb-2" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <strong>Holy guacamole!</strong> those fields below.
          </div>
          <div class="alert alert-warning alert-dismissible fade show mb-2" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <strong>Update Plan</strong> maxime animi excepturi.
          </div>
        </div>
      </div>
    </mat-sidenav>

    <div class="silk-base-container" #scrollContainer>
      <div class="silk-header-toolbar">
        <div class="d-flex justify-content-between">
          <div class="header-left d-flex">
            <div class="silk-ham-icon align-self-center">
              <a charset="cursor" (click)="sidenav.toggle()">
                <i class="fa fa-bars fa-lg" aria-hidden="true"></i>
              </a>
            </div>
            <div class="d-flex page-info-wrap justify-content-between">
              <a class="navbar-brand align-self-center" href="#">{{header}}</a>
            </div>
          </div>
          <div class="silk-main-menu">
            <ul class="main-nav">
              <li class="nav-item dropdown">
                <a class="nav-link" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-envelope-o"></i><span class="badge badge-success">4</span>
                </a>
                <div class="dropdown-menu dropdown-menu-md dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <div class="dropdown-head bg-success">
                    <small class="dropdown-header"><strong>You have 2 new messages</strong></small>
                  </div>
                  <div class="dropdown-body">
                    <a class="dropdown-item d-flex" href="javascript:void(0)">
                      <div class="align-self-center">
                        <img src="assets/img/user-1.jpg" class="img-circle" width="40" height="40" alt="">
                      </div>
                      <div class="ml-2 mr-2">
                        <span class="align-self-center d-block">Your new theme is awesome! </span>
                        <small><i class="fa fa-clock-o"></i> 12 min ago</small>
                      </div>
                    </a>
                    <a class="dropdown-item d-flex" href="javascript:void(0)">
                      <div class="align-self-center">
                        <img src="assets/img/user-2.jpg" class="img-circle" width="40" height="40" alt="">
                      </div>
                      <div class="ml-2 mr-2">
                        <span class="align-self-center d-block">Thanks for your support. </span>
                        <small><i class="fa fa-clock-o"></i> 23 min ago</small>
                      </div>
                    </a>
                    <a class="dropdown-item d-flex" href="javascript:void(0)">
                      <div class="align-self-center">
                        <img src="assets/img/user-3.jpg" class="img-circle" width="40" height="40" alt="">
                      </div>
                      <div class="ml-2 mr-2">
                        <span class="align-self-center d-block">I need help in theme! </span>
                        <small><i class="fa fa-clock-o"></i> 27 min ago</small>
                      </div>
                    </a>
                    <a class="dropdown-item d-flex" href="javascript:void(0)">
                      <div class="align-self-center">
                        <img src="assets/img/user-4.jpg" class="img-circle" width="40" height="40" alt="">
                      </div>
                      <div class="ml-2 mr-2">
                        <span class="align-self-center d-block">Stunning design </span>
                        <small><i class="fa fa-clock-o"></i> 28 min ago</small>
                      </div>
                    </a>
                    <a class="dropdown-item d-flex" href="javascript:void(0)">
                      <div class="align-self-center">
                        <img src="assets/img/user-5.jpg" class="img-circle" width="40" height="40" alt="">
                      </div>
                      <div class="ml-2 mr-2">
                        <span class="align-self-center d-block">Good tempalte </span>
                        <small><i class="fa fa-clock-o"></i> 31 min ago</small>
                      </div>
                    </a>
                  </div>
                  <div class="dropdown-foot bg-success">
                    <a href="javascript:void(0)"><small><strong>View all</strong></small></a>
                  </div>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-bell-o"></i><span class="badge badge-warning">2</span>
                </a>
                <div class="dropdown-menu dropdown-menu-md dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <div class="dropdown-head bg-warning">
                    <small class="dropdown-header"><strong>You have 2 new notifications</strong></small>
                  </div>
                  <div class="dropdown-body">
                    <a class="dropdown-item" href="javascript:void(0)">
                      <i class="fa fa-users text-success width-30"></i> 5 new members joined today
                    </a>
                    <a class="dropdown-item" href="javascript:void(0)">
                      <i class="fa fa-envelope-o text-success width-30"></i> you updated your email
                    </a>
                    <a class="dropdown-item" href="javascript:void(0)">
                      <i class="fa fa-shopping-cart text-success width-30"></i> 15 new product added
                    </a>
                    <a class="dropdown-item" href="javascript:void(0)">
                      <i class="fa fa-exclamation text-danger width-30"></i> 2 order cancelled
                    </a>
                    <a class="dropdown-item" href="javascript:void(0)">
                      <i class="fa fa-users text-success width-30"></i> 27 new followers
                    </a>
                  </div>
                  <div class="dropdown-foot bg-warning" ng-reflect-class-base="dropdown-head">
                    <a href="javascript:void(0)"><small><strong>View all</strong></small></a>
                  </div>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-flag-o"></i><span class="badge badge-danger">6</span>
                </a>
                <div class="dropdown-menu dropdown-menu-md dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <div class="dropdown-head bg-danger">
                    <small class="dropdown-header"><strong>Your tasks list</strong></small>
                  </div>
                  <div class="dropdown-body">
                    <a class="dropdown-item" href="javascript:void(0)">
                      <span class="d-block mb-1"> Project A</span>
                      <div class="progress">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 25%; height: 5px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </a>
                    <a class="dropdown-item" href="javascript:void(0)">
                      <span class="d-block mb-1"> Project B</span>
                      <div class="progress">
                        <div class="progress-bar bg-primary" role="progressbar" style="width: 50%; height: 5px;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </a>
                    <a class="dropdown-item" href="javascript:void(0)">
                      <span class="d-block mb-1"> Project C</span>
                      <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" style="width: 60%; height: 5px;" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </a>
                    <a class="dropdown-item" href="javascript:void(0)">
                      <span class="d-block mb-1"> Project D</span>
                      <div class="progress">
                        <div class="progress-bar bg-warning" role="progressbar" style="width: 75%; height: 5px;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </a>
                    <a class="dropdown-item" href="javascript:void(0)">
                      <span class="d-block mb-1"> Project E</span>
                      <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" style="width: 90%; height: 5px;" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </a>
                  </div>
                  <div class="dropdown-foot bg-danger">
                    <a href="javascript:void(0)"><small><strong>View all</strong></small></a>
                  </div>
                </div>
              </li>
              <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link" (click)="toggleFullscreen()">
                  <i class="fa fa-arrows-alt" *ngIf="!isFullscreen"></i>
                  <i class="fa fa-desktop" *ngIf="isFullscreen"></i>
                </a>
              </li>
              <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link" (click)="end.toggle()">
                  <div class="more-links">
                    <i class="fa fa-info"></i>
                  </div>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="inner-container">
        <router-outlet (activate)="onActivate($event, scrollContainer)"></router-outlet>
      </div>
    </div>

  </mat-sidenav-container>
</div>

<mat-menu class="user-menu" x-position="before" y-position="below" #menu="matMenu">
  <button mat-menu-item>
    <mat-icon>account_circle</mat-icon>
    <span>Profile</span>
  </button>
  <button mat-menu-item>
    <mat-icon>settings</mat-icon>
    <span>Settings</span>
  </button>
  <button mat-menu-item>
    <mat-icon>help</mat-icon>
    <span>Help</span>
  </button>
  <mat-divider></mat-divider>
  <button [routerLink]="['/login']" mat-menu-item>
    <mat-icon>exit_to_app</mat-icon>
    <span>Logout</span>
  </button>
</mat-menu>
<mat-menu class="apps-menu" x-position="after" y-position="below" #appsmenu="matMenu">
  <button mat-menu-item>
    <mat-icon>storage</mat-icon>
    <span>Total App Memory</span>
  </button>
  <button mat-menu-item>
    <mat-icon>memory</mat-icon>
    <span>Total Memory Used</span>
  </button>
  <button mat-menu-item>
    <mat-icon>mail</mat-icon>
    <span>12 Unread Mail</span>
  </button>
  <button mat-menu-item>
    <mat-icon>feedback</mat-icon>
    <span>2 Feedback</span>
  </button>
</mat-menu>

